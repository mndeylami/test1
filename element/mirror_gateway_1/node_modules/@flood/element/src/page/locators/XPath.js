"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Locator_1 = require("../Locator");
class XPathLocator extends Locator_1.BaseLocator {
    constructor(selector) {
        super(`xpath==${selector}`);
        this.selector = selector;
    }
    get pageFuncArgs() {
        return [this.selector];
    }
    get pageFunc() {
        return (expression) => document.evaluate(expression, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null)
            .singleNodeValue;
    }
    get pageFuncMany() {
        return (expression) => {
            let nodes = document.evaluate(expression, document, null, XPathResult.ORDERED_NODE_ITERATOR_TYPE, null);
            let elements = [];
            let node = nodes.iterateNext();
            while (node) {
                elements.push(node);
                node = nodes.iterateNext();
            }
            return elements;
        };
    }
}
exports.XPathLocator = XPathLocator;
