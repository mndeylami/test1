"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Condition_1 = require("../Condition");
class ElementSelectedCondition extends Condition_1.ElementCondition {
    constructor(desc, locator, ...args) {
        super(desc, locator);
        this.pageFunc = (node, waitForSelected) => {
            if (!node)
                return false;
            if (!isSelectable(node))
                return false;
            let tagName = node.tagName;
            var propertyName = 'selected';
            var type = tagName.toUpperCase();
            if ('CHECKBOX' == type || 'RADIO' == type) {
                propertyName = 'checked';
            }
            let value = !!node[propertyName];
            return value === waitForSelected;
            function isSelectable(node) {
                let tagName = node.tagName;
                if (tagName === 'OPTION') {
                    return true;
                }
                if (tagName === 'INPUT') {
                    let type = tagName.toLowerCase();
                    return type == 'checkbox' || type == 'radio';
                }
                return false;
            }
        };
        this.pageFuncArgs = args;
    }
    toString() {
        return 'waiting element to be selected';
    }
}
exports.ElementSelectedCondition = ElementSelectedCondition;
